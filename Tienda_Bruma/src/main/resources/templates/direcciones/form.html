<!DOCTYPE html>
<html 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6"
    >
<head th:replace="~{layout/plantilla :: head}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sobre Nosotros - Bruma</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"/>
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}"/>
    <script th:src="@{/webjars/jquery/jquery.min.js}"></script>
    <script th:src="@{/webjars/popper.js/umd/popper.min.js}"></script>
    <script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
</head>
<body>

<!-- Incluir fragmento de header/navegación si existe -->
<header th:replace="~{layout/plantilla :: header}"/>

<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card border-0 shadow">
                <div class="card-header" style="background-color: #c49f79; color: black;">
                    <h4 th:text="${direccion.idDireccion != null ? 'Editar Dirección' : 'Nueva Dirección'}" class="m-0">Gestión de Dirección</h4>
                </div>
                <div class="card-body">
                    <form th:action="@{/direcciones/guardar}" method="POST" th:object="${direccion}">
                        <!-- Campo oculto para el ID (en caso de edición) -->
                        <input type="hidden" th:field="*{idDireccion}">
                        
                        <!-- Etiqueta de la dirección -->
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Etiqueta de la dirección</label>
                            <input type="text" th:field="*{nombre}" class="form-control" id="nombre" required 
                                   placeholder="Ej: Casa, Trabajo, Apartamento">
                            <small class="form-text text-muted">Un nombre para identificar esta dirección</small>
                        </div>
                        
                        <!-- Calle y número -->
                        <div class="mb-3">
                            <label for="calle" class="form-label">Dirección (Calle y número)</label>
                            <input type="text" th:field="*{calle}" class="form-control" id="calle" required 
                                   placeholder="Ej: Calle Principal #123, Apartamento 4B">
                        </div>
                        
                        <!-- Ciudad y Provincia -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="ciudad" class="form-label">Ciudad</label>
                                <input type="text" th:field="*{ciudad}" class="form-control" id="ciudad" required 
                                       placeholder="Ej: San José">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="provincia" class="form-label">Provincia</label>
                                <input type="text" th:field="*{provincia}" class="form-control" id="provincia" required 
                                       placeholder="Ej: San José">
                            </div>
                        </div>
                        
                        <!-- Código Postal y País -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="codigoPostal" class="form-label">Código Postal</label>
                                <input type="text" th:field="*{codigoPostal}" class="form-control" id="codigoPostal" required 
                                       placeholder="Ej: 10101">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="pais" class="form-label">País</label>
                                <input type="text" th:field="*{pais}" class="form-control" id="pais" 
                                       placeholder="Ej: Costa Rica" value="Costa Rica">
                            </div>
                        </div>
                        
                        <!-- Teléfono -->
                        <div class="mb-3">
                            <label for="telefono" class="form-label">Teléfono de contacto</label>
                            <input type="tel" th:field="*{telefono}" class="form-control" id="telefono" 
                                   placeholder="Ej: 8888-8888">
                            <small class="form-text text-muted">Teléfono de contacto para esta dirección</small>
                        </div>
                        
                        <!-- Dirección Predeterminada -->
                        <div class="mb-3 form-check">
                            <input type="checkbox" th:field="*{esPrincipal}" class="form-check-input" id="esPrincipal">
                            <label class="form-check-label" for="esPrincipal">Establecer como dirección predeterminada</label>
                            <small class="d-block form-text text-muted">Esta dirección se usará automáticamente en tus pedidos</small>
                        </div>
                        
                        <!-- Activo (oculto, siempre será true) -->
                        <input type="hidden" th:field="*{activo}" value="true">
                        
                        <!-- Botones de acción -->
                        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
                            <a th:href="@{/direcciones}" class="btn btn-secondary me-md-2">Cancelar</a>
                            <button type="submit" class="btn" style="background-color: #c49f79; color: black;">Guardar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer Section -->
<footer th:replace="~{layout/plantilla :: footer}"/>

</body>
</html>